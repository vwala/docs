{"data":{"site":{"siteMetadata":{"siteUrl":"https://docs.vwa.la","title":"vwa.la help","description":"Everything you need to know about the vwa.la influencer marketing platform."}},"ghostPost":{"title":"Using nvm","slug":"using-nvm","featured":false,"feature_image":null,"created_at_pretty":"09 October, 2018","published_at_pretty":"09 October, 2018","updated_at_pretty":"23 October, 2018","created_at":"2018-10-09T12:07:30.000+00:00","published_at":"2018-10-09T12:09:31.000+00:00","updated_at":"2018-10-23T08:50:34.000+00:00","excerpt":"Using nvm with local and production Ghost installs. ","meta_title":"Using nvm with Ghost - FAQ","meta_description":"Using nvm with local and production Ghost installs. ","og_description":null,"og_image":null,"og_title":null,"twitter_description":null,"twitter_image":null,"twitter_title":null,"authors":[{"name":"Kym Ellis","slug":"kym","bio":"Technical marketing lead","profile_image":"//www.gravatar.com/avatar/65b8e98952305f0ae0f90c7439718680?s=250&d=mm&r=x","twitter":null,"facebook":null,"website":null}],"primary_author":{"name":"Kym Ellis","slug":"kym","bio":"Technical marketing lead","profile_image":"//www.gravatar.com/avatar/65b8e98952305f0ae0f90c7439718680?s=250&d=mm&r=x","twitter":null,"facebook":null,"website":null},"primary_tag":{"name":"Errors","slug":"errors","description":"Troubleshoot common errors and issues for the open source Ghost publishing platform!","feature_image":null,"meta_description":"Troubleshoot common errors and issues for the open source Ghost publishing platform!","meta_title":"Troubleshooting Ghost","visibility":"public"},"tags":[{"name":"Errors","slug":"errors","description":"Troubleshoot common errors and issues for the open source Ghost publishing platform!","feature_image":null,"meta_description":"Troubleshoot common errors and issues for the open source Ghost publishing platform!","meta_title":"Troubleshooting Ghost","visibility":"public"},{"name":"#faq","slug":"hash-faq","description":null,"feature_image":null,"meta_description":null,"meta_title":null,"visibility":"internal"}],"plaintext":"Production install\nIf nvm  is installed locally in /root  or /home  then you’ll run into permission\nproblems. Ghost requires a system wide installation. We recommend uninstalling\nnvm to avoid permission problems. A symlink from the local installation to \nusr/bin/node  will not work.\n\nUninstall nvm  using:\n\nrm -rf $NVM_DIR ~/.npm ~/.bower\nunset NVM_DIR;\nwhich node;\nrm -rf {path_to_node_version}\n\n\nOpen~/.bash_profile  or ~/.bashrc  and remove any nvm  lines.\n\nLocal installation\nIf you run into problems during a local install, it could be due to your\ninstallation of nvm (Node Version Manager).\n\nEnsure nvm is installed correctly:\n☑️ Ensure that nvm is not installed in the root folder /root/.nvm. If nvm is\ninstalled in the root folder, uninstall nvm, and reinstall it using a non-root\nuser.\n\n☑️ Set your nvm default version to the one you will use for Ghost before\ninstalling ghost-cli. If your default is different, you should switch to the\ncorrect version each time you start a new session and run any ghost  commands.\n\nEnsure ghost-cli  is installed in the correct environment. On a machine with nvm\nconfigured correctly, you should see:\n\nwhich ghost -> /Users/[username]/.nvm/versions/node/[node version]/bin/ghost\nnpm root -g -> /Users/[username]/.nvm/versions/node/[node version]/lib/node_modules\n\n\nIf these paths aren’t in the same [node version], it means you've installed \nghost-cli  in a different environment than the active node environment.ghost-cli \n needs to be installed and run in the same environment.\n\nTo resolve this choose one of the following:\n\n 1. Run npm install ghost-cli -g  in the current environment to get the right\n    sqlite3 node module into the environment and go through ghost setup  process\n    again.\n 2. If you remember which nvm node environment you've installed ghost-cli \n    under, run nvm use <node version>.","html":"<h3 id=\"production-install\">Production install</h3><p>If <code>nvm</code> is installed locally in <code>/root</code> or <code>/home</code> then you’ll run into permission problems. Ghost requires a system wide installation. We recommend uninstalling nvm to avoid permission problems. A symlink from the local installation to <code>usr/bin/node</code> will not work.</p><p>Uninstall <code>nvm</code> using:</p><pre><code class=\"language-bash\">rm -rf $NVM_DIR ~/.npm ~/.bower\nunset NVM_DIR;\nwhich node;\nrm -rf {path_to_node_version}\n</code></pre>\n<p>Open  <code>~/.bash_profile</code> or <code>~/.bashrc</code> and remove any <code>nvm</code> lines.</p><h3 id=\"local-installation\">Local installation</h3><p>If you run into problems during a local install, it could be due to your installation of nvm (Node Version Manager).</p><p><strong>Ensure nvm is installed correctly:</strong><br>☑️ Ensure that nvm is not installed in the root folder <code>/root/.nvm</code>. If nvm is installed in the root folder, uninstall nvm, and reinstall it using a non-root user.</p><p>☑️ Set your nvm default version to the one you will use for Ghost before installing <code>ghost-cli</code>. If your default is different, you should switch to the correct version each time you start a new session and run any <code>ghost</code> commands.</p><p><strong>Ensure <code>ghost-cli</code> is installed in the correct environment. </strong>On a machine with nvm configured correctly, you should see:</p><pre><code class=\"language-bash\">which ghost -&gt; /Users/[username]/.nvm/versions/node/[node version]/bin/ghost\nnpm root -g -&gt; /Users/[username]/.nvm/versions/node/[node version]/lib/node_modules\n</code></pre>\n<p>If these paths aren’t in the same <code>[node version]</code>, it means you've installed <code>ghost-cli</code> in a different environment than the active node environment.  <code>ghost-cli</code> needs to be installed and run in the same environment.</p><p>To resolve this choose one of the following:</p><ol><li>Run <code>npm install ghost-cli -g</code> in the current environment to get the right sqlite3 node module into the environment and go through <code>ghost setup</code> process again.</li><li>If you remember which nvm node environment you've installed <code>ghost-cli</code> under, run <code>nvm use &lt;node version&gt;</code>.</li></ol>","custom_template":null,"url":"https://docs.ghost.io/using-nvm/","uuid":"9c97143f-512d-47ff-aab3-b751c8e823c0","page":false,"codeinjection_foot":"","codeinjection_head":"","comment_id":"5bbc9a028e5a4f00bfae4e00"}},"pageContext":{"slug":"using-nvm","relatedPosts":[{"node":{"slug":"root-user-fix","title":"Root user permissions fix","url":"/faq/root-user-fix/","published_at":"2018-11-12T10:20:58.000+00:00","feature_image":null,"tags":[{"slug":"errors","name":"Errors","description":"Troubleshoot common errors and issues for the open source Ghost publishing platform!","meta_title":"Troubleshooting Ghost","meta_description":"Troubleshoot common errors and issues for the open source Ghost publishing platform!","feature_image":null},{"slug":"hash-faq","name":"#faq","description":null,"meta_title":null,"meta_description":null,"feature_image":null}]}},{"node":{"slug":"mail-config-error-google-cloud","title":"Mail config error - Google Cloud","url":"/faq/mail-config-error-google-cloud/","published_at":"2018-10-16T10:22:21.000+00:00","feature_image":null,"tags":[{"slug":"errors","name":"Errors","description":"Troubleshoot common errors and issues for the open source Ghost publishing platform!","meta_title":"Troubleshooting Ghost","meta_description":"Troubleshoot common errors and issues for the open source Ghost publishing platform!","feature_image":null},{"slug":"hash-faq","name":"#faq","description":null,"meta_title":null,"meta_description":null,"feature_image":null}]}},{"node":{"slug":"upgrading-from-deprecated-ghost-cli","title":"Upgrading from deprecated Ghost-CLI","url":"/faq/upgrading-from-deprecated-ghost-cli/","published_at":"2018-10-16T04:49:46.000+00:00","feature_image":null,"tags":[{"slug":"errors","name":"Errors","description":"Troubleshoot common errors and issues for the open source Ghost publishing platform!","meta_title":"Troubleshooting Ghost","meta_description":"Troubleshoot common errors and issues for the open source Ghost publishing platform!","feature_image":null},{"slug":"hash-faq","name":"#faq","description":null,"meta_title":null,"meta_description":null,"feature_image":null}]}},{"node":{"slug":"markdown-breaking-changes","title":"Markdown breaking changes","url":"/faq/markdown-breaking-changes/","published_at":"2018-10-16T04:36:47.000+00:00","feature_image":null,"tags":[{"slug":"errors","name":"Errors","description":"Troubleshoot common errors and issues for the open source Ghost publishing platform!","meta_title":"Troubleshooting Ghost","meta_description":"Troubleshoot common errors and issues for the open source Ghost publishing platform!","feature_image":null},{"slug":"hash-faq","name":"#faq","description":null,"meta_title":null,"meta_description":null,"feature_image":null}]}},{"node":{"slug":"content-api-breaking-changes","title":"Content API breaking changes","url":"/faq/content-api-breaking-changes/","published_at":"2018-10-16T04:29:01.000+00:00","feature_image":null,"tags":[{"slug":"errors","name":"Errors","description":"Troubleshoot common errors and issues for the open source Ghost publishing platform!","meta_title":"Troubleshooting Ghost","meta_description":"Troubleshoot common errors and issues for the open source Ghost publishing platform!","feature_image":null},{"slug":"hash-faq","name":"#faq","description":null,"meta_title":null,"meta_description":null,"feature_image":null}]}}],"section":"faq"}}