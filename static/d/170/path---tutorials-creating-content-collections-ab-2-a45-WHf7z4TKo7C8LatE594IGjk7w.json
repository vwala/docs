{"data":{"site":{"siteMetadata":{"siteUrl":"http://ghost.local:8000","title":"vwa.la help","description":"Everything you need to know about the vwa.la influencer marketing platform."}},"ghostPost":{"title":"Building content collections with distinct routes","slug":"creating-content-collections","featured":true,"feature_image":"https://docs.ghost.io/content/images/2018/10/dynamic-routing-4.svg","created_at_pretty":"27 September, 2018","published_at_pretty":"12 October, 2018","updated_at_pretty":"23 October, 2018","created_at":"2018-09-27T16:55:00.000+00:00","published_at":"2018-10-12T06:26:51.000+00:00","updated_at":"2018-10-23T08:17:21.000+00:00","excerpt":"Split your site into distinct sections to support different content types or topics using collections.","meta_title":"Building content collections with Ghost - Tutorials","meta_description":"Split your Ghost site into distinct sections to support different content types or topics using collections.","og_description":null,"og_image":null,"og_title":null,"twitter_description":null,"twitter_image":null,"twitter_title":null,"authors":[{"name":"Kym Ellis","slug":"kym","bio":"Technical marketing lead","profile_image":"//www.gravatar.com/avatar/65b8e98952305f0ae0f90c7439718680?s=250&d=mm&r=x","twitter":null,"facebook":null,"website":null}],"primary_author":{"name":"Kym Ellis","slug":"kym","bio":"Technical marketing lead","profile_image":"//www.gravatar.com/avatar/65b8e98952305f0ae0f90c7439718680?s=250&d=mm&r=x","twitter":null,"facebook":null,"website":null},"primary_tag":null,"tags":[{"name":"#tutorial","slug":"hash-tutorial","description":null,"feature_image":null,"meta_description":null,"meta_title":null,"visibility":"internal"},{"name":"Dynamic Routing","slug":"dynamic-routing","description":null,"feature_image":null,"meta_description":null,"meta_title":null,"visibility":"public"}],"plaintext":"Split your site into distinct sections to support different content types or\ntopics using collections.\n\nOverview\nCollections allow you to create groups of posts that match a filter, with unique\npermalinks, and an index URL where all posts within that collection are listed\nand paginated.\n\nIt's possible to have a single collection that contains all posts, or multiple\ncollections for distinct areas, content types or topics. \n\nContent collections are created using the dynamic routing configuration layer,\nand allow you to create unique areas within your publication that have entirely\ndifferent URL structures, templates, RSS feeds, design and behaviour. \n\nThis can be achieved by editing the routes.yaml  file, creating new handlebars\ntemplates in your theme, and using tags [https://docs.ghost.org/concepts/tags/] \nin your post content to determine which collection each piece of content lives\nin.\n\nThis tutorial walks you through the process of setting up custom collections. \n\nIf you want to build custom views of content on your publication without\nchanging the route, learn how create content hubs using channels in this\ntutorial [https://docs.ghost.org/tutorials/building-a-content-hub/].Create\ncollections in the routes.yaml  file\nA collection can be defined in the flexible dynamic routing layer in Ghost.\nDownload your routes.yaml  file from the settings in Ghost admin or locate the\nfile on your server and open it in any code editor. \n\nThis file is split into three sections, and for this tutorial you'll be using\nthe \"collections\" section â€“ read more about dynamic routing\n[https://docs.ghost.org/concepts/routing/].\n\nIn this example, two collections are being created for /blog/  and /podcast/ \ncollections. \n\nPermalinks\nCollections are mapped to a permalink, for example:\n\ncollections:\n  /blog/:\n    permalink: /blog/{slug}/  \n  /podcast/:\n    permalink: /podcast/{slug}/\n\n\n\nFilters\nIn order to ensure content can be tagged effectively, use the filter property,\nfor example: \n\ncollections:\n  /blog/:\n    permalink: /blog/{slug}/\n    filter: tag:blog+tag:-podcast\n  /podcast/:\n    permalink: /podcast/{slug}/\n    filter: tag:podcast+tag:-blog\n\n\nThis configuration will allow you to filter your posts and pages that you would\nlike to belong in a particular collection using tags in the editor. \n\nTip: you can use the  full range of data properties  to fetch resources using\nGhostâ€™s API.When a post matches the filter property in a collection, it will\ndefine the routing or the URL for that post or page. For example, if a post has\nthe tag blog  then the URL for the post will become \nyoursite.com/blog/{post-name}. When it matches the podcast filter it will become\n yoursite.com/podcast/{post-name}.\n\nIn the current beta version of Dynamic Routing, it's necessary to specify the\ninverse of filters using -.\n\nTemplates\nEach collection can be completely unique in terms of what data is used and how\nthe content is rendered on your site using the Ghost theme layer. If no template\nproperty is specified in the routes.yaml  file, then it will default to the name\nof the collection. \n\nIt is also possible to map collection to a template using the property, which is\nuseful if you want to use a partial template to render a collection, for\nexample:\n\ncollections:\n  /blog/:\n    permalink: /blog/{slug}/\n    filter: tag:blog+tag:-podcast\n  /podcast/:\n    permalink: /podcast/{slug}/\n    filter: tag:podcast+tag:-blog\n    template: podcast/video\n\n\n\nCreate a template for your collection\nTo render unique content on your static pages, create different templates for\neach page. In the collections  example above, the outcome would be to render the\ntemplates like so:\n\n * https://yoursite.com/blog ðŸ‘‰ blog.hbs\n * https://yoursite.com/podcast/ ðŸ‘‰ podcast/video.hbs\n\nIf the template is not found then the fallback template is used instead, for\nexample post.hbs  or default.hbs.\n\nCreate new templates for your new collections, using the name of the collection\nfor the template file name. If you need further help creating a custom template,\nvisit the handlebars theme documentation\n[https://docs.ghost.org/api/handlebars-themes/]  to find out more!\n\nThis method of mapping content in a collection to a template gives you the\nflexibility to create content within the Ghost editor and then use tags to\ndefine the collection, and render each section on your site in any way you like.\n \n\nNavigation\nSince each collection that you create is going to have it's own index URL, such\nas yoursite.com/podcast, you will need to ensure that you create a navigation\nitem for your collection so that it appears on your site. The navigation for\nGhost content can be edited in the \"design\" menu in Ghost admin. \n\nUse tags to define a collection for your posts\nIn order for content to appear inside each of your collections, you'll need to\ntag some posts or pages in the editor with the correct tags. \n\nUsing the tags you specified earlier using the filter  property in your \nroutes.yaml  file, tag some of your posts so that you can test that your\ncollections are working as expected in the next step. \n\nThe order that collections are listed in routes.yaml  is important. Posts will\nonly exist in one collection, which is always the first filter it matches with.\nBe mindful of this when creating three or more collections for your site. \nImplement your collections and templates\nGreat work! Once you've finished editing your routes.yaml  file with new\ncollections, created some handlebars templates and made any necessary\nadjustments to your CSS files, the final thing to do is to get your new\ncollections live on your site ðŸŽ‰\n\n 1. Upload your edited routes.yaml  file in Ghost admin\n 2. Upload your new theme .zip  containing new templates and CSS in Ghost admin\n 3. Visit your site and ensure your new collections render correctly\n\nSummary\nIn this tutorial you have created one or more custom collections of content that\nwill live inside their own unique section on your site, and be rendered using\nindividual templates. Use this process to set up as many collections as\nrequired!","html":"<p>Split your site into distinct sections to support different content types or topics using collections.</p><h3 id=\"overview\">Overview</h3><p>Collections allow you to create groups of posts that match a filter, with unique permalinks, and an index URL where all posts within that collection are listed and paginated.</p><p>It's possible to have a single collection that contains all posts, or multiple collections for distinct areas, content types or topics. </p><p>Content collections are created using the dynamic routing configuration layer, and allow you to create unique areas within your publication that have entirely different URL structures, templates, RSS feeds, design and behaviour. </p><p>This can be achieved by editing the <code>routes.yaml</code> file, creating new handlebars templates in your theme, and using <a href=\"https://docs.ghost.org/concepts/tags/\">tags</a> in your post content to determine which collection each piece of content lives in.</p><p>This tutorial walks you through the process of setting up custom collections. </p><blockquote>If you want to build custom views of content on your publication without changing the route, learn how create content hubs using channels in <a href=\"https://docs.ghost.org/tutorials/building-a-content-hub/\">this tutorial</a>.</blockquote><h2 id=\"create-collections-in-the-routes-yaml-file\">Create collections in the <code>routes.yaml</code> file</h2><p>A collection can be defined in the flexible dynamic routing layer in Ghost. Download your <code>routes.yaml</code> file from the settings in Ghost admin or locate the file on your server and open it in any code editor. </p><p>This file is split into three sections, and for this tutorial you'll be using the \"collections\" section â€“ read more about <a href=\"https://docs.ghost.org/concepts/routing/\">dynamic routing</a>.</p><p>In this example, two collections are being created for <code>/blog/</code> and <code>/podcast/</code> collections. </p><h3 id=\"permalinks\">Permalinks</h3><p>Collections are mapped to a permalink, for example:</p><pre><code class=\"language-yaml\">collections:\n  /blog/:\n    permalink: /blog/{slug}/  \n  /podcast/:\n    permalink: /podcast/{slug}/\n\n</code></pre>\n<h3 id=\"filters\">Filters</h3><p>In order to ensure content can be tagged effectively, use the filter property, for example: </p><pre><code class=\"language-yaml\">collections:\n  /blog/:\n    permalink: /blog/{slug}/\n    filter: tag:blog+tag:-podcast\n  /podcast/:\n    permalink: /podcast/{slug}/\n    filter: tag:podcast+tag:-blog\n</code></pre>\n<p>This configuration will allow you to filter your posts and pages that you would like to belong in a particular collection using tags in the editor. </p><blockquote>Tip: you can use the<a href=\"https://docs.ghost.org/concepts/routing/#data\"> full range of data properties</a> to fetch resources using Ghostâ€™s API.</blockquote><p>When a post matches the filter property in a collection, it will define the routing or the URL for that post or page. For example, if a post has the tag <code>blog</code> then the URL for the post will become <code>yoursite.com/blog/{post-name}</code>. When it matches the podcast filter it will become <code>yoursite.com/podcast/{post-name}</code>.</p><p>In the current beta version of Dynamic Routing, it's necessary to specify the inverse of filters using <code>-</code>.</p><h3 id=\"templates\">Templates</h3><p>Each collection can be completely unique in terms of what data is used and how the content is rendered on your site using the Ghost theme layer. If no template property is specified in the <code>routes.yaml</code> file, then it will default to the name of the collection. </p><p>It is also possible to map collection to a template using the property, which is useful if you want to use a partial template to render a collection, for example:</p><pre><code class=\"language-yaml\">collections:\n  /blog/:\n    permalink: /blog/{slug}/\n    filter: tag:blog+tag:-podcast\n  /podcast/:\n    permalink: /podcast/{slug}/\n    filter: tag:podcast+tag:-blog\n    template: podcast/video\n\n</code></pre>\n<h2 id=\"create-a-template-for-your-collection\">Create a template for your collection</h2><p>To render unique content on your static pages, create different templates for each page. In the <code>collections</code> example above, the outcome would be to render the templates like so:</p><ul><li>https://yoursite.com/blog ðŸ‘‰ <code>blog.hbs</code></li><li>https://yoursite.com/podcast/ ðŸ‘‰ <code>podcast/video.hbs</code></li></ul><p>If the template is not found then the fallback template is used instead, for example <code>post.hbs</code> or <code>default.hbs</code>.</p><p>Create new templates for your new collections, using the name of the collection for the template file name. If you need further help creating a custom template, visit the handlebars <a href=\"https://docs.ghost.org/api/handlebars-themes/\">theme documentation</a> to find out more!</p><p>This method of mapping content in a collection to a template gives you the flexibility to create content within the Ghost editor and then use tags to define the collection, and render each section on your site in any way you like. </p><h3 id=\"navigation\">Navigation</h3><p>Since each collection that you create is going to have it's own index URL, such as <code>yoursite.com/podcast</code>, you will need to ensure that you create a navigation item for your collection so that it appears on your site. The navigation for Ghost content can be edited in the \"design\" menu in Ghost admin. </p><h2 id=\"use-tags-to-define-a-collection-for-your-posts\">Use tags to define a collection for your posts</h2><p>In order for content to appear inside each of your collections, you'll need to tag some posts or pages in the editor with the correct tags. </p><p>Using the tags you specified earlier using the <code>filter</code> property in your <code>routes.yaml</code> file, tag some of your posts so that you can test that your collections are working as expected in the next step. </p><blockquote>The order that collections are listed in <code>routes.yaml</code> is important. <strong>Posts will only exist in one collection</strong>, which is always the first filter it matches with. Be mindful of this when creating three or more collections for your site. </blockquote><h2 id=\"implement-your-collections-and-templates\">Implement your collections and templates</h2><p>Great work! Once you've finished editing your <code>routes.yaml</code> file with new collections, created some handlebars templates and made any necessary adjustments to your CSS files, the final thing to do is to get your new collections live on your site ðŸŽ‰</p><ol><li>Upload your edited <code>routes.yaml</code> file in Ghost admin</li><li>Upload your new theme <code>.zip</code> containing new templates and CSS in Ghost admin</li><li>Visit your site and ensure your new collections render correctly</li></ol><h2 id=\"summary\">Summary</h2><p>In this tutorial you have created one or more custom collections of content that will live inside their own unique section on your site, and be rendered using individual templates. Use this process to set up as many collections as required! </p>","custom_template":null,"url":"https://docs.ghost.io/creating-content-collections/","uuid":"65086337-d143-466b-b235-fb375b348d56","page":false,"codeinjection_foot":"","codeinjection_head":"","comment_id":"5bad0b64f193d500bfd5b425"}},"pageContext":{"slug":"creating-content-collections","relatedPosts":[{"node":{"slug":"custom-rss-feed","title":"How to make an iTunes Podcast RSS feed with Ghost","url":"/tutorials/custom-rss-feed/","published_at":"2018-12-06T10:13:53.000+00:00","feature_image":null,"tags":[{"slug":"dynamic-routing","name":"Dynamic Routing","description":null,"meta_title":null,"meta_description":null,"feature_image":null},{"slug":"themes","name":"Themes","description":null,"meta_title":null,"meta_description":null,"feature_image":null},{"slug":"hash-tutorial","name":"#tutorial","description":null,"meta_title":null,"meta_description":null,"feature_image":null}]}},{"node":{"slug":"chronological-posts","title":"Chronological posts","url":"/tutorials/chronological-posts/","published_at":"2018-10-12T13:45:13.000+00:00","feature_image":null,"tags":[{"slug":"hash-tutorial","name":"#tutorial","description":null,"meta_title":null,"meta_description":null,"feature_image":null},{"slug":"dynamic-routing","name":"Dynamic Routing","description":null,"meta_title":null,"meta_description":null,"feature_image":null}]}},{"node":{"slug":"change-url-for-tags-authors","title":"Change the URL for tags and authors","url":"/tutorials/change-url-for-tags-authors/","published_at":"2018-10-12T12:30:33.000+00:00","feature_image":"https://docs.ghost.io/content/images/2018/10/dynamic-routing-2.svg","tags":[{"slug":"hash-tutorial","name":"#tutorial","description":null,"meta_title":null,"meta_description":null,"feature_image":null},{"slug":"dynamic-routing","name":"Dynamic Routing","description":null,"meta_title":null,"meta_description":null,"feature_image":null}]}},{"node":{"slug":"building-a-content-hub","title":"Creating content hubs","url":"/tutorials/building-a-content-hub/","published_at":"2018-10-12T10:49:10.000+00:00","feature_image":null,"tags":[{"slug":"hash-tutorial","name":"#tutorial","description":null,"meta_title":null,"meta_description":null,"feature_image":null},{"slug":"dynamic-routing","name":"Dynamic Routing","description":null,"meta_title":null,"meta_description":null,"feature_image":null}]}},{"node":{"slug":"custom-home-page","title":"Creating a custom home page","url":"/tutorials/custom-home-page/","published_at":"2018-10-04T13:53:41.000+00:00","feature_image":"https://docs.ghost.io/content/images/2018/10/dynamic-routing-5.svg","tags":[{"slug":"hash-tutorial","name":"#tutorial","description":null,"meta_title":null,"meta_description":null,"feature_image":null},{"slug":"dynamic-routing","name":"Dynamic Routing","description":null,"meta_title":null,"meta_description":null,"feature_image":null}]}}],"section":"tutorials"}}