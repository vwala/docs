{"data":{"site":{"siteMetadata":{"siteUrl":"https://docs.vwa.la","title":"vwa.la help","description":"Everything you need to know about the vwa.la influencer marketing platform."}},"ghostPost":{"title":"Cloudflare domain setup guide","slug":"cloudflare-custom-domain-setup","featured":false,"feature_image":null,"created_at_pretty":"04 October, 2018","published_at_pretty":"04 October, 2018","updated_at_pretty":"01 November, 2018","created_at":"2018-10-04T14:12:04.000+00:00","published_at":"2018-10-04T15:30:03.000+00:00","updated_at":"2018-11-01T09:46:19.000+00:00","excerpt":"Make your site memorable and easy to find with a branded custom domain. Learn how to setup a domain with Cloudflare and Ghost.","meta_title":"Cloudflare domain setup guide - Ghost(Pro)","meta_description":"Make your site memorable and easy to find with a branded custom domain. Learn how to setup a domain with Cloudflare and Ghost.","og_description":null,"og_image":null,"og_title":null,"twitter_description":null,"twitter_image":null,"twitter_title":null,"authors":[{"name":"Sarah Frantz","slug":"sarah","bio":null,"profile_image":"//www.gravatar.com/avatar/930a564053be3c38824dfee3e89d2074?s=250&d=mm&r=x","twitter":null,"facebook":null,"website":null}],"primary_author":{"name":"Sarah Frantz","slug":"sarah","bio":null,"profile_image":"//www.gravatar.com/avatar/930a564053be3c38824dfee3e89d2074?s=250&d=mm&r=x","twitter":null,"facebook":null,"website":null},"primary_tag":{"name":"Ghost(Pro)","slug":"ghost-pro","description":"Commonly asked questions and support for Ghost(Pro) customers!","feature_image":null,"meta_description":"Commonly asked questions and support for Ghost(Pro) premium hosted customers!","meta_title":"GhostPro FAQs","visibility":"public"},"tags":[{"name":"Ghost(Pro)","slug":"ghost-pro","description":"Commonly asked questions and support for Ghost(Pro) customers!","feature_image":null,"meta_description":"Commonly asked questions and support for Ghost(Pro) premium hosted customers!","meta_title":"GhostPro FAQs","visibility":"public"},{"name":"#faq","slug":"hash-faq","description":null,"feature_image":null,"meta_description":null,"meta_title":null,"visibility":"internal"}],"plaintext":"Cloudflare is a DNS management service and content delivery network (CDN).\nGhost(Pro) users commonly route their DNS through Cloudflare for it's support of\nroot level CNAMEs and flexible redirects, known as Page Rules. \n\nThe following steps will walk you through how to setup a root domain with your\nGhost(Pro) publication, using Cloudflare to manage your domain's DNS records. \n\nConnect Your Domain to Cloudflare\nThe first step is to create a free Cloudflare account\n[https://dash.cloudflare.com/sign-up]  and follow a few steps. There are paid\noptions available but you only need a free account to setup a custom domain with\nGhost. \n\n * Enter your domain name when creating your new Cloudflare account and it will\n   query your existing DNS records and port them over. Review these records and\n   port any over that are required.\n   \n   \n * Update your Nameserver (NS) with your domain provider to the NS records that\n   Cloudflare requests during the setup process. If you're unsure where to\n   update this you may need to contact your domain provider directly:\n   \n   \n\n\n\n * When your Cloudflare Overview shows a status of \"Active\" you are ready to\n   configure your domain's DNS to point to your Ghost(Pro) publication - this\n   can take a few minutes:\n\n\n\nConfigure your DNS records\nThe next step is to configure your DNS records for your domain in Cloudflare.\n\n * Navigate to your domain in Cloudflare and add a CNAME  record type:\n\n\n\n * In the \"Name\" field, enter @  for a root domain configuration. This uses \n   yourdomain.com  as the default custom domain for your Ghost(Pro) publication.\n   \n   \n * In the IPv4 address, enter the ghost.io URL for your publication, \n   <subdomain>.ghost.io  and add your new CNAME  record:\n   \n   \n\n\n\nRedirecting the www subdomain to the root domain\nTo ensure your publication does not return 404 errors when visitors visit the\nsite with and without the www  subdomain, create a second CNAME record for www \nand point it to yourdomain.com:\n\nAdd A Page Rule\nPage Rules in Cloudflare are custom redirect patterns which can be used to\nredirect the www  subdomain to the root domain. \n\n * Create a page rule and enter the following URL pattern: *yourdomain.com/*. \n * Set the destination URL to \"Fowarding URL\":\n\n * Set the status code as \"301 - Permanent Redirect\":\n\n * In the destination URL field, enter the following URL pattern: \n   https://yourdomain.com/$2  \n\nOnce your new Page Rule is saved and deployed, all traffic to \nhttps://www.yourdomain.com  is redirected to https://yourdomain.com. \n\nDomain Activation\nThe final step to complete your custom domain setup is to go back to Ghost.org\nand activate your custom domain.\n\n * Log into your Ghost.org account at my.ghost.org/signin\n   [http://my.ghost.org/signin/]  and setup a custom domain in the \"Domain\n   Settings\" section.\n   \n   \n * Enter the domain into the custom domain field on my.ghost.org\n   [https://my.ghost.org/], making sure to include www  when entering the\n   domain. For example, www.yourdomain.com:\n   \n   \n\n\n\n * Activate your custom domain - this can take anywhere from a few seconds to a\n   few hours due to the length of time your DNS takes to propagate.\n   \n   \n * Once activated, you can view your publication by going to the custom domain\n   directly from the browser.\n   \n   \n\nSummary\nGreat work! ðŸ¤“ You successfully setup a root domain and a subdomain redirect\nwith your Ghost(Pro) publication through Cloudflare. Regardless of how a user\nenters your publication's URL in their browser, they'll always be directed to\nthe correct site. \n\nIf you're having trouble getting your custom domain to activate, drop \nsupport@ghost.org  a message for help.","html":"<p>Cloudflare is a DNS management service and content delivery network (CDN). Ghost(Pro) users commonly route their DNS through Cloudflare for it's support of root level CNAMEs and flexible redirects, known as Page Rules. </p><p>The following steps will walk you through how to setup a root domain with your Ghost(Pro) publication, using Cloudflare to manage your domain's DNS records. </p><h2 id=\"connect-your-domain-to-cloudflare\">Connect Your Domain to Cloudflare</h2><p>The first step is to create a <a href=\"https://dash.cloudflare.com/sign-up\">free Cloudflare account</a> and follow a few steps. There are paid options available but you only need a free account to setup a custom domain with Ghost. </p><ul>\n<li>\n<p>Enter your domain name when creating your new Cloudflare account and it will query your existing DNS records and port them over. Review these records and port any over that are required.</p>\n</li>\n<li>\n<p>Update your Nameserver (NS) with your domain provider to the NS records that Cloudflare requests during the setup process. If you're unsure where to update this you may need to contact your domain provider directly:</p>\n</li>\n</ul>\n<p><img src=\"https://docs.ghost.io/content/images/2018/10/cloudflare-update-nameservers.png\" alt=\"Update Nameservers\"></p>\n<ul>\n<li>When your Cloudflare Overview shows a status of &quot;Active&quot; you are ready to configure your domain's DNS to point to your Ghost(Pro) publication - this can take a few minutes:</li>\n</ul>\n<p><img src=\"https://docs.ghost.io/content/images/2018/10/cloudflare-overview.png\" alt=\"Active Status\"></p>\n<h2 id=\"configureyourdnsrecords\">Configure your DNS records</h2>\n<p>The next step is to configure your DNS records for your domain in Cloudflare.</p>\n<ul>\n<li>Navigate to your domain in Cloudflare and add a <code>CNAME</code> record type:</li>\n</ul>\n<p><img src=\"https://docs.ghost.io/content/images/2018/10/cloudflare-add-cname.png\" alt=\"Add CNAME\"></p>\n<ul>\n<li>\n<p>In the &quot;Name&quot; field, enter <code>@</code> for a root domain configuration. This uses <code>yourdomain.com</code> as the default custom domain for your Ghost(Pro) publication.</p>\n</li>\n<li>\n<p>In the IPv4 address, enter the ghost.io URL for your publication, <code>&lt;subdomain&gt;.ghost.io</code> and add your new <code>CNAME</code> record:</p>\n</li>\n</ul>\n<p><img src=\"https://docs.ghost.io/content/images/2018/10/cloudflare-cname-record.png\" alt=\"CNAME Record\"></p>\n<h2 id=\"redirecting-the-www-subdomain-to-the-root-domain\">Redirecting the www subdomain to the root domain</h2><p>To ensure your publication does not return 404 errors when visitors visit the site with and without the <code>www</code> subdomain, create a second CNAME record for <code>www</code> and point it to <code>yourdomain.com</code>:</p><figure class=\"kg-card kg-image-card\"><img src=\"https://docs.ghost.io/content/images/2018/10/cloudflare-cname-redirect.png\" class=\"kg-image\"></figure><h3 id=\"add-a-page-rule\">Add A Page Rule</h3><p>Page Rules in Cloudflare are custom redirect patterns which can be used to redirect the <code>www</code> subdomain to the root domain. </p><ul><li>Create a page rule and enter the following URL pattern: <code>*yourdomain.com/*</code>. </li><li>Set the destination URL to \"Fowarding URL\":</li></ul><figure class=\"kg-card kg-image-card\"><img src=\"https://docs.ghost.io/content/images/2018/10/cloudflare-pick-a-setting.png\" class=\"kg-image\"></figure><ul><li>Set the status code as \"301 - Permanent Redirect\":</li></ul><figure class=\"kg-card kg-image-card\"><img src=\"https://docs.ghost.io/content/images/2018/10/cloudflare-select-301.png\" class=\"kg-image\"></figure><ul><li>In the destination URL field, enter the following URL pattern: <code>https://yourdomain.com/$2</code> </li></ul><p>Once your new Page Rule is saved and deployed, all traffic to <code>https://www.yourdomain.com</code> is redirected to <code>https://yourdomain.com</code>. </p><h2 id=\"domainactivation\">Domain Activation</h2>\n<p>The final step to complete your custom domain setup is to go back to Ghost.org and activate your custom domain.</p>\n<ul>\n<li>\n<p>Log into your Ghost.org account at <a href=\"http://my.ghost.org/signin/\">my.ghost.org/signin</a> and setup a custom domain in the &quot;Domain Settings&quot; section.</p>\n</li>\n<li>\n<p>Enter the domain into the custom domain field on <a href=\"https://my.ghost.org/\">my.ghost.org</a>, making sure to include <code>www</code> when entering the domain. For example, <code>www.yourdomain.com</code>:</p>\n</li>\n</ul>\n<p><img src=\"https://docs.ghost.io/content/images/2018/10/ghostpro-custom-domain.png\" alt=\"Activate Custom Domain\"></p>\n<ul>\n<li>\n<p>Activate your custom domain - this can take anywhere from a few seconds to a few hours due to the length of time your DNS takes to propagate.</p>\n</li>\n<li>\n<p>Once activated, you can view your publication by going to the custom domain directly from the browser.</p>\n</li>\n</ul>\n<h2 id=\"summary\">Summary</h2><p>Great work! ðŸ¤“ You successfully setup a root domain and a subdomain redirect with your Ghost(Pro) publication through Cloudflare. Regardless of how a user enters your publication's URL in their browser, they'll always be directed to the correct site. </p><p>If you're having trouble getting your custom domain to activate, drop <a href=\"mailto:support@ghost.org\">support@ghost.org</a> a message for help.</p>","custom_template":null,"url":"https://docs.ghost.io/cloudflare-custom-domain-setup/","uuid":"2b8e5792-7b2f-41a3-be82-dff2a7192a88","page":false,"codeinjection_foot":"","codeinjection_head":"","comment_id":"5bb61fb45a8ccb00bfd27af1"}},"pageContext":{"slug":"cloudflare-custom-domain-setup","relatedPosts":[{"node":{"slug":"hover-domain-setup-guide","title":"Hover domain setup guide","url":"/faq/hover-domain-setup-guide/","published_at":"2018-10-10T14:24:48.000+00:00","feature_image":null,"tags":[{"slug":"ghost-pro","name":"Ghost(Pro)","description":"Commonly asked questions and support for Ghost(Pro) customers!","meta_title":"GhostPro FAQs","meta_description":"Commonly asked questions and support for Ghost(Pro) premium hosted customers!","feature_image":null},{"slug":"hash-faq","name":"#faq","description":null,"meta_title":null,"meta_description":null,"feature_image":null}]}},{"node":{"slug":"google-domain-setup-guide","title":"Google domain setup guide","url":"/faq/google-domain-setup-guide/","published_at":"2018-10-08T21:55:14.000+00:00","feature_image":null,"tags":[{"slug":"ghost-pro","name":"Ghost(Pro)","description":"Commonly asked questions and support for Ghost(Pro) customers!","meta_title":"GhostPro FAQs","meta_description":"Commonly asked questions and support for Ghost(Pro) premium hosted customers!","feature_image":null},{"slug":"hash-faq","name":"#faq","description":null,"meta_title":null,"meta_description":null,"feature_image":null}]}},{"node":{"slug":"using-custom-domains","title":"Using Custom Domains","url":"/faq/using-custom-domains/","published_at":"2018-10-08T10:01:52.000+00:00","feature_image":null,"tags":[{"slug":"ghost-pro","name":"Ghost(Pro)","description":"Commonly asked questions and support for Ghost(Pro) customers!","meta_title":"GhostPro FAQs","meta_description":"Commonly asked questions and support for Ghost(Pro) premium hosted customers!","feature_image":null},{"slug":"hash-faq","name":"#faq","description":null,"meta_title":null,"meta_description":null,"feature_image":null}]}},{"node":{"slug":"godaddy-domain-setup-guide","title":"GoDaddy domain setup guide","url":"/faq/godaddy-domain-setup-guide/","published_at":"2018-10-05T18:09:10.000+00:00","feature_image":null,"tags":[{"slug":"ghost-pro","name":"Ghost(Pro)","description":"Commonly asked questions and support for Ghost(Pro) customers!","meta_title":"GhostPro FAQs","meta_description":"Commonly asked questions and support for Ghost(Pro) premium hosted customers!","feature_image":null},{"slug":"hash-faq","name":"#faq","description":null,"meta_title":null,"meta_description":null,"feature_image":null}]}},{"node":{"slug":"namecheap-domain-setup-guide","title":"Namecheap domain setup guide","url":"/faq/namecheap-domain-setup-guide/","published_at":"2018-10-03T17:15:37.000+00:00","feature_image":null,"tags":[{"slug":"ghost-pro","name":"Ghost(Pro)","description":"Commonly asked questions and support for Ghost(Pro) customers!","meta_title":"GhostPro FAQs","meta_description":"Commonly asked questions and support for Ghost(Pro) premium hosted customers!","feature_image":null},{"slug":"hash-faq","name":"#faq","description":null,"meta_title":null,"meta_description":null,"feature_image":null}]}}],"section":"faq"}}