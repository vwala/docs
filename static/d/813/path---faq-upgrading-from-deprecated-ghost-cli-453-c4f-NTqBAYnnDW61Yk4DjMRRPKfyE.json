{"data":{"site":{"siteMetadata":{"siteUrl":"https://docs.vwa.la","title":"vwa.la help","description":"Everything you need to know about the vwa.la influencer marketing platform."}},"ghostPost":{"title":"Upgrading from deprecated Ghost-CLI","slug":"upgrading-from-deprecated-ghost-cli","featured":false,"feature_image":null,"created_at_pretty":"16 October, 2018","published_at_pretty":"16 October, 2018","updated_at_pretty":"23 October, 2018","created_at":"2018-10-16T04:42:41.000+00:00","published_at":"2018-10-16T04:49:46.000+00:00","updated_at":"2018-10-23T08:40:02.000+00:00","excerpt":"If you are using a deprecated version and need to upgrade in order to upgrade or manage your Ghost site, some extra steps may be required. ","meta_title":"Upgrading from a deprecated Ghost-CLI - FAQ","meta_description":"Troubleshooting: If you are upgrading from a deprecated Ghost CLI then some extra steps may be required.","og_description":null,"og_image":null,"og_title":null,"twitter_description":null,"twitter_image":null,"twitter_title":null,"authors":[{"name":"Kym Ellis","slug":"kym","bio":"Technical marketing lead","profile_image":"//www.gravatar.com/avatar/65b8e98952305f0ae0f90c7439718680?s=250&d=mm&r=x","twitter":null,"facebook":null,"website":null}],"primary_author":{"name":"Kym Ellis","slug":"kym","bio":"Technical marketing lead","profile_image":"//www.gravatar.com/avatar/65b8e98952305f0ae0f90c7439718680?s=250&d=mm&r=x","twitter":null,"facebook":null,"website":null},"primary_tag":{"name":"Errors","slug":"errors","description":"Troubleshoot common errors and issues for the open source Ghost publishing platform!","feature_image":null,"meta_description":"Troubleshoot common errors and issues for the open source Ghost publishing platform!","meta_title":"Troubleshooting Ghost","visibility":"public"},"tags":[{"name":"Errors","slug":"errors","description":"Troubleshoot common errors and issues for the open source Ghost publishing platform!","feature_image":null,"meta_description":"Troubleshoot common errors and issues for the open source Ghost publishing platform!","meta_title":"Troubleshooting Ghost","visibility":"public"},{"name":"#faq","slug":"hash-faq","description":null,"feature_image":null,"meta_description":null,"meta_title":null,"visibility":"internal"}],"plaintext":"When managing your self-hosted Ghost publication using the recommended ghost-cli \n tooling, you should upgrade your CLI version. If you are using a deprecated\nversion and need to upgrade in order to upgrade or manage your Ghost site, some\nextra steps may be required. \n\nUse the following troubleshooting guide if you run into issues because you are\nusing a deprecated version of the Ghost-CLI. \n\nUpgrading from <=1.1.3\nGhost-CLI 1.2.0 added a fix, and Ghost-CLI 1.3.0 added a migration to solve some\nssl renewal problems with letsencrypt and nginx. After upgrading ghost-cli  run \nghost migrate  manually. \n\nUpgrading Ghost installs that used Ghost-CLI <1.0.0\nIf you installed Ghost using a pre-1.0.0 version of Ghost-CLI (any version less\nthan 1.0.0, including alphas, betas and release candidates), you’ll need to run\nsome commands manually to upgrade your Ghost installation to one compatible with\nversion 1.0.0 of the CLI. \n\nFrom 1.0.0 onwards, installs are be automatically migrated. Once you've run the\nsteps below, edit the .ghost-cli  file in your ghost instance folder and replace\nthe version noted by \"cli-version\" with \"1.0.0\".\n\nYou installed your Ghost instance with CLI versions between v1.0.0-beta.6 and\n1.0.0\nTo upgrade your instance to one that is 1.0.0 compatible, backup your data, then\nrun these commands from within your ghost instance folder:\n\n 1. crontab -e, then in the editor remove the line that has ghost ssl-renew  on\n    it\n 2. Then run: rm -f ./system/files/*.conf\n 3. If you previously setup ssl then run: ghost setup nginx ssl. If you setup\n    Ghost without ssl run: ghost setup nginx\n\nYou installed your Ghost instance with CLI versions older than v1.0.0-beta.6\nYou’ll need to reinstall your Ghost instance from scratch — follow the upgrading\nto Ghost 1.0 guide [https://docs.ghost.org/faq/upgrade-to-ghost-1-0/]  to find\nout how to backup your data, update the CLI and set up a new Ghost instance.","html":"<p>When managing your self-hosted Ghost publication using the recommended <code>ghost-cli</code> tooling, you should upgrade your CLI version. If you are using a deprecated version and need to upgrade in order to upgrade or manage your Ghost site, some extra steps may be required. </p><p>Use the following troubleshooting guide if you run into issues because you are using a deprecated version of the Ghost-CLI. </p><h3 id=\"upgrading-from-1-1-3\">Upgrading from &lt;=1.1.3</h3><p>Ghost-CLI 1.2.0 added a fix, and Ghost-CLI 1.3.0 added a migration to solve some ssl renewal problems with letsencrypt and nginx. After upgrading <code>ghost-cli</code> run <code>ghost migrate</code> manually. </p><h3 id=\"upgrading-ghost-installs-that-used-ghost-cli-1-0-0\">Upgrading Ghost installs that used Ghost-CLI &lt;1.0.0</h3><p>If you installed Ghost using a pre-1.0.0 version of Ghost-CLI (any version less than 1.0.0, including alphas, betas and release candidates), you’ll need to run some commands manually to upgrade your Ghost installation to one compatible with version 1.0.0 of the CLI. </p><p>From 1.0.0 onwards, installs are be automatically migrated. Once you've run the steps below, edit the <code>.ghost-cli</code> file in your ghost instance folder and replace the version noted by \"cli-version\" with \"1.0.0\".</p><h3 id=\"you-installed-your-ghost-instance-with-cli-versions-between-v1-0-0-beta-6-and-1-0-0\">You installed your Ghost instance with CLI versions between v1.0.0-beta.6 and 1.0.0</h3><p>To upgrade your instance to one that is 1.0.0 compatible, backup your data, then run these commands from within your ghost instance folder:</p><ol><li><code>crontab -e</code>, then in the editor remove the line that has <code>ghost ssl-renew</code> on it</li><li>Then run: <code>rm -f ./system/files/*.conf</code></li><li>If you previously setup ssl then run: <code>ghost setup nginx ssl</code>. If you setup Ghost without ssl run: <code>ghost setup nginx</code></li></ol><h3 id=\"you-installed-your-ghost-instance-with-cli-versions-older-than-v1-0-0-beta-6\">You installed your Ghost instance with CLI versions older than v1.0.0-beta.6</h3><p>You’ll need to reinstall your Ghost instance from scratch — follow the upgrading to <a href=\"https://docs.ghost.org/faq/upgrade-to-ghost-1-0/\">Ghost 1.0 guide</a> to find out how to backup your data, update the CLI and set up a new Ghost instance. </p>","custom_template":null,"url":"https://docs.ghost.io/upgrading-from-deprecated-ghost-cli/","uuid":"dd91b465-313f-431d-a92e-89ffec24313b","page":false,"codeinjection_foot":"","codeinjection_head":"","comment_id":"5bc56c4194250c00bf9d3c58"}},"pageContext":{"slug":"upgrading-from-deprecated-ghost-cli","relatedPosts":[{"node":{"slug":"root-user-fix","title":"Root user permissions fix","url":"/faq/root-user-fix/","published_at":"2018-11-12T10:20:58.000+00:00","feature_image":null,"tags":[{"slug":"errors","name":"Errors","description":"Troubleshoot common errors and issues for the open source Ghost publishing platform!","meta_title":"Troubleshooting Ghost","meta_description":"Troubleshoot common errors and issues for the open source Ghost publishing platform!","feature_image":null},{"slug":"hash-faq","name":"#faq","description":null,"meta_title":null,"meta_description":null,"feature_image":null}]}},{"node":{"slug":"mail-config-error-google-cloud","title":"Mail config error - Google Cloud","url":"/faq/mail-config-error-google-cloud/","published_at":"2018-10-16T10:22:21.000+00:00","feature_image":null,"tags":[{"slug":"errors","name":"Errors","description":"Troubleshoot common errors and issues for the open source Ghost publishing platform!","meta_title":"Troubleshooting Ghost","meta_description":"Troubleshoot common errors and issues for the open source Ghost publishing platform!","feature_image":null},{"slug":"hash-faq","name":"#faq","description":null,"meta_title":null,"meta_description":null,"feature_image":null}]}},{"node":{"slug":"markdown-breaking-changes","title":"Markdown breaking changes","url":"/faq/markdown-breaking-changes/","published_at":"2018-10-16T04:36:47.000+00:00","feature_image":null,"tags":[{"slug":"errors","name":"Errors","description":"Troubleshoot common errors and issues for the open source Ghost publishing platform!","meta_title":"Troubleshooting Ghost","meta_description":"Troubleshoot common errors and issues for the open source Ghost publishing platform!","feature_image":null},{"slug":"hash-faq","name":"#faq","description":null,"meta_title":null,"meta_description":null,"feature_image":null}]}},{"node":{"slug":"content-api-breaking-changes","title":"Content API breaking changes","url":"/faq/content-api-breaking-changes/","published_at":"2018-10-16T04:29:01.000+00:00","feature_image":null,"tags":[{"slug":"errors","name":"Errors","description":"Troubleshoot common errors and issues for the open source Ghost publishing platform!","meta_title":"Troubleshooting Ghost","meta_description":"Troubleshoot common errors and issues for the open source Ghost publishing platform!","feature_image":null},{"slug":"hash-faq","name":"#faq","description":null,"meta_title":null,"meta_description":null,"feature_image":null}]}},{"node":{"slug":"filter-property-routes-yaml","title":"Filter property not working","url":"/faq/filter-property-routes-yaml/","published_at":"2018-10-10T09:06:05.000+00:00","feature_image":null,"tags":[{"slug":"errors","name":"Errors","description":"Troubleshoot common errors and issues for the open source Ghost publishing platform!","meta_title":"Troubleshooting Ghost","meta_description":"Troubleshoot common errors and issues for the open source Ghost publishing platform!","feature_image":null},{"slug":"hash-faq","name":"#faq","description":null,"meta_title":null,"meta_description":null,"feature_image":null}]}}],"section":"faq"}}