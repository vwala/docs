{"data":{"site":{"siteMetadata":{"siteUrl":"http://ghost.local:8000","title":"vwa.la help","description":"Everything you need to know about the vwa.la influencer marketing platform."}},"ghostPost":{"title":"Root user permissions fix","slug":"root-user-fix","featured":false,"feature_image":null,"created_at_pretty":"12 November, 2018","published_at_pretty":"12 November, 2018","updated_at_pretty":"08 January, 2019","created_at":"2018-11-12T10:13:55.000+00:00","published_at":"2018-11-12T10:20:58.000+00:00","updated_at":"2019-01-08T18:08:47.000+00:00","excerpt":"Running into trouble with root user permissions when spinning up a Ghost instance? Here's a quick guide to get things working again!","meta_title":"Root User Permissions Fix - Ghost - FAQs","meta_description":null,"og_description":null,"og_image":null,"og_title":null,"twitter_description":null,"twitter_image":null,"twitter_title":null,"authors":[{"name":"John O'Nolan","slug":"john","bio":null,"profile_image":"//www.gravatar.com/avatar/f95828f4e92f1befebabfb7f65cdc8f2?s=250&d=mm&r=x","twitter":null,"facebook":null,"website":null}],"primary_author":{"name":"John O'Nolan","slug":"john","bio":null,"profile_image":"//www.gravatar.com/avatar/f95828f4e92f1befebabfb7f65cdc8f2?s=250&d=mm&r=x","twitter":null,"facebook":null,"website":null},"primary_tag":{"name":"Errors","slug":"errors","description":"Troubleshoot common errors and issues for the open source Ghost publishing platform!","feature_image":null,"meta_description":"Troubleshoot common errors and issues for the open source Ghost publishing platform!","meta_title":"Troubleshooting Ghost","visibility":"public"},"tags":[{"name":"Errors","slug":"errors","description":"Troubleshoot common errors and issues for the open source Ghost publishing platform!","feature_image":null,"meta_description":"Troubleshoot common errors and issues for the open source Ghost publishing platform!","meta_title":"Troubleshooting Ghost","visibility":"public"},{"name":"#faq","slug":"hash-faq","description":null,"feature_image":null,"meta_description":null,"meta_title":null,"visibility":"internal"}],"plaintext":"Running into trouble with root user permissions? Here's a quick guide to get\nthings working again.\n\nWe discovered that you are using the DigitalOcean One-Click install. You need to\ncreate a user with regular account privileges and migrate your installation to\nthis user.When you installed Ghost with the DigitalOcean One-Click install\n[https://www.digitalocean.com/products/one-click-apps/ghost/]  you probably set\nup your Ghost installation as a root  user. As of Ghost-CLI 1.5.0, running Ghost\ncommands as root  is disallowed. Therefore you will need to migrate your current\ninstallation to a new Linux user.\n\nRun the following steps as root  user to fix it:\n\nAdd a new user:\n\nadduser <user>\n\n\nAdd user to sudo group:\n\nusermod -aG sudo <user>\n\n\nNow create a new instance file and move to new user location:\n\nmkdir -p /home/<user>/.ghost/\n\nchown <user>:<user> /home/<user>/.ghost\n\nmv /root/.ghost/config /home/<user>/.ghost/config\n\nchown <user>:<user> /home/<user>/.ghost/config\n\n\nNext, change into your ghost installation directory (/var/www/ghost/  is default\nin the DigitOcean One-Click installs) to change the ownership of your\ninstallation files:\n\ncd /var/www/ghost\n\n\nAnd then execute this command (might take a while):\n\nfind . -group root -user root -exec chown <user>:<user> {} \\;\n\n\nLast step, Login as new user:\n\nsu - <user>\n\n\nYou can check ghost ls  now to see if your installation is still up and running.","html":"<p>Running into trouble with root user permissions? Here's a quick guide to get things working again.</p><blockquote>We discovered that you are using the DigitalOcean One-Click install. You need to create a user with regular account privileges and migrate your installation to this user.</blockquote><p>When you installed Ghost with the <a href=\"https://www.digitalocean.com/products/one-click-apps/ghost/\">DigitalOcean One-Click install</a> you probably set up your Ghost installation as a <code>root</code> user. As of Ghost-CLI 1.5.0, running Ghost commands as <code>root</code> is disallowed. Therefore you will need to migrate your current installation to a new Linux user.</p>\n<p>Run the following steps as <code>root</code> user to fix it:</p>\n<p>Add a new user:</p>\n<pre><code class=\"language-bash\">adduser &lt;user&gt;\n</code></pre>\n<p>Add user to sudo group:</p>\n<pre><code class=\"language-bash\">usermod -aG sudo &lt;user&gt;\n</code></pre>\n<p>Now create a new instance file and move to new user location:</p>\n<pre><code class=\"language-bash\">mkdir -p /home/&lt;user&gt;/.ghost/\n\nchown &lt;user&gt;:&lt;user&gt; /home/&lt;user&gt;/.ghost\n\nmv /root/.ghost/config /home/&lt;user&gt;/.ghost/config\n\nchown &lt;user&gt;:&lt;user&gt; /home/&lt;user&gt;/.ghost/config\n</code></pre>\n<p>Next, change into your ghost installation directory (<code>/var/www/ghost/</code> is default in the DigitOcean One-Click installs) to change the ownership of your installation files:</p>\n<pre><code class=\"language-bash\">cd /var/www/ghost\n</code></pre>\n<p>And then execute this command (might take a while):</p>\n<pre><code class=\"language-bash\">find . -group root -user root -exec chown &lt;user&gt;:&lt;user&gt; {} \\;\n</code></pre>\n<p>Last step, Login as new user:</p>\n<pre><code class=\"language-bash\">su - &lt;user&gt;\n</code></pre>\n<p>You can check <code>ghost ls</code> now to see if your installation is still up and running.</p>\n","custom_template":null,"url":"https://docs.ghost.io/root-user-fix/","uuid":"8dffc50c-2408-4e01-90c8-86b6563c6b2b","page":false,"codeinjection_foot":"","codeinjection_head":"","comment_id":"5be9526351461600ccb3a1e2"}},"pageContext":{"slug":"root-user-fix","relatedPosts":[{"node":{"slug":"mail-config-error-google-cloud","title":"Mail config error - Google Cloud","url":"/faq/mail-config-error-google-cloud/","published_at":"2018-10-16T10:22:21.000+00:00","feature_image":null,"tags":[{"slug":"errors","name":"Errors","description":"Troubleshoot common errors and issues for the open source Ghost publishing platform!","meta_title":"Troubleshooting Ghost","meta_description":"Troubleshoot common errors and issues for the open source Ghost publishing platform!","feature_image":null},{"slug":"hash-faq","name":"#faq","description":null,"meta_title":null,"meta_description":null,"feature_image":null}]}},{"node":{"slug":"upgrading-from-deprecated-ghost-cli","title":"Upgrading from deprecated Ghost-CLI","url":"/faq/upgrading-from-deprecated-ghost-cli/","published_at":"2018-10-16T04:49:46.000+00:00","feature_image":null,"tags":[{"slug":"errors","name":"Errors","description":"Troubleshoot common errors and issues for the open source Ghost publishing platform!","meta_title":"Troubleshooting Ghost","meta_description":"Troubleshoot common errors and issues for the open source Ghost publishing platform!","feature_image":null},{"slug":"hash-faq","name":"#faq","description":null,"meta_title":null,"meta_description":null,"feature_image":null}]}},{"node":{"slug":"markdown-breaking-changes","title":"Markdown breaking changes","url":"/faq/markdown-breaking-changes/","published_at":"2018-10-16T04:36:47.000+00:00","feature_image":null,"tags":[{"slug":"errors","name":"Errors","description":"Troubleshoot common errors and issues for the open source Ghost publishing platform!","meta_title":"Troubleshooting Ghost","meta_description":"Troubleshoot common errors and issues for the open source Ghost publishing platform!","feature_image":null},{"slug":"hash-faq","name":"#faq","description":null,"meta_title":null,"meta_description":null,"feature_image":null}]}},{"node":{"slug":"content-api-breaking-changes","title":"Content API breaking changes","url":"/faq/content-api-breaking-changes/","published_at":"2018-10-16T04:29:01.000+00:00","feature_image":null,"tags":[{"slug":"errors","name":"Errors","description":"Troubleshoot common errors and issues for the open source Ghost publishing platform!","meta_title":"Troubleshooting Ghost","meta_description":"Troubleshoot common errors and issues for the open source Ghost publishing platform!","feature_image":null},{"slug":"hash-faq","name":"#faq","description":null,"meta_title":null,"meta_description":null,"feature_image":null}]}},{"node":{"slug":"filter-property-routes-yaml","title":"Filter property not working","url":"/faq/filter-property-routes-yaml/","published_at":"2018-10-10T09:06:05.000+00:00","feature_image":null,"tags":[{"slug":"errors","name":"Errors","description":"Troubleshoot common errors and issues for the open source Ghost publishing platform!","meta_title":"Troubleshooting Ghost","meta_description":"Troubleshoot common errors and issues for the open source Ghost publishing platform!","feature_image":null},{"slug":"hash-faq","name":"#faq","description":null,"meta_title":null,"meta_description":null,"feature_image":null}]}}],"section":"faq"}}