{"data":{"site":{"siteMetadata":{"siteUrl":"https://docs.vwa.la","title":"vwa.la help","description":"Everything you need to know about the vwa.la influencer marketing platform."}},"ghostPost":{"title":"Upgrade to Ghost 1.0","slug":"upgrade-to-ghost-1-0","featured":false,"feature_image":null,"created_at_pretty":"16 October, 2018","published_at_pretty":"16 October, 2018","updated_at_pretty":"01 November, 2018","created_at":"2018-10-16T03:54:24.000+00:00","published_at":"2018-10-16T04:02:37.000+00:00","updated_at":"2018-11-01T10:07:14.000+00:00","excerpt":"How to upgrade to Ghost 1.0 - a major upgrade with breaking changes and no automatic migration path. ","meta_title":"Upgrade to Ghost 1.0 - Tutorial","meta_description":"A guide to upgrading to Ghost 1.0 for self-hosted developers managing a Ghost publication!","og_description":null,"og_image":null,"og_title":null,"twitter_description":null,"twitter_image":null,"twitter_title":null,"authors":[{"name":"Kym Ellis","slug":"kym","bio":"Technical marketing lead","profile_image":"//www.gravatar.com/avatar/65b8e98952305f0ae0f90c7439718680?s=250&d=mm&r=x","twitter":null,"facebook":null,"website":null}],"primary_author":{"name":"Kym Ellis","slug":"kym","bio":"Technical marketing lead","profile_image":"//www.gravatar.com/avatar/65b8e98952305f0ae0f90c7439718680?s=250&d=mm&r=x","twitter":null,"facebook":null,"website":null},"primary_tag":{"name":"Self-hosting","slug":"self-hosting","description":"Commonly asked questions, upgrade information and guides for developers who are self-hosting an instance of Ghost!","feature_image":null,"meta_description":"Commonly asked questions, upgrade information and guides for developers who are self-hosting an instance of Ghost!","meta_title":"Self Hosting FAQs","visibility":"public"},"tags":[{"name":"Self-hosting","slug":"self-hosting","description":"Commonly asked questions, upgrade information and guides for developers who are self-hosting an instance of Ghost!","feature_image":null,"meta_description":"Commonly asked questions, upgrade information and guides for developers who are self-hosting an instance of Ghost!","meta_title":"Self Hosting FAQs","visibility":"public"},{"name":"#faq","slug":"hash-faq","description":null,"feature_image":null,"meta_description":null,"meta_title":null,"visibility":"internal"}],"plaintext":"Ghost 1.0 was released in July 2017 marking the 100th release of Ghost, and the\nfirst major upgrade since the platform launched. This update includes a new\neditor, an updated UI, night shift mode and lots more new features.\n\nGhost 1.0.0 is a major upgrade, with breaking changes and no automatic migration\npath. To migrate to 1.0.0 you‚Äôll need to handle breaking changes in the Theme\nAPI, and in the Public API if you make use of it.\n\nThis guide is useful for all self-hosted Ghost users. If you are using \nGhost(Pro) [https://ghost.org/pricing/]  then you are automatically upgraded to\nthe latest version of Ghost.Why upgrade to 1.0?\nSince Ghost 1.0 has breaking changes with no automatic migration path, all\npublications running Ghost LTS versions (0.x) must be upgraded to Ghost 1.0\nbefore they can be successfully upgraded to Ghost 2.0 and beyond.\n\nIf you‚Äôre still running an older version of Ghost, we highly recommended that\nyou upgrade to ensure you have all of the latest features, security and support.\nHere‚Äôs the current version history and end of life support\n[https://docs.ghost.org/faq/major-versions-lts/].\n\nTo upgrade from Ghost 1.x to Ghost 2.x using the ghost-cli  use the Migrating\nto\n2.0 guide [https://docs.ghost.org/faq/upgrade-to-ghost-2-0/].\n--------------------------------------------------------------------------------\n\nPrerequisites\nTo upgrade to Ghost 1.0 you must be running an LTS version of Ghost (0.x). This\nupgrade requires creating a brand new install and importing your JSON content\nexport, so it is a prerequisite to ensure you have a full backup in place before\nyou begin. Here's a breakdown of the migration steps that you‚Äôll go through:\n\n * Prepare your theme\n * Backup your content\n * Create a new Ghost v1.0.0 install\n * Import your JSON file\n * Copy your images to your new site\n * Upload your theme\n * Update external sites using Public API\n\n\n--------------------------------------------------------------------------------\n\nPrepare your theme\nSince there are breaking changes in the theme API between Ghost LTS and 1.0,\nyour theme may need to be updated. \n\nCheck theme compatibility using gscan\nUsing the tool gscan [https://gscan.ghost.org]  is the fastest way to check your\ntheme compatibility against all current versions of Ghost. It allows you to\nupload a zip file of your current theme to check for errors, deprecations and\nother compatibility issues.\n\n 1. Download your current active theme as a .zip from the design settings page\n    in Ghost admin.\n 2. Upload this file on the gscan page [https://gscan.ghost.org]\n 3. Select 1.0.0 as the Ghost version to check your theme for this migration\n\nThe tool lists all errors and provide a full explanation and description of how\nto update your theme. All items listed as ‚Äúmust fix‚Äù are required to be updated\nwithin your theme for the 1.0.0 migration. Any items listed as ‚Äúconsider fixing‚Äù\nare recommended to ensure future upgrades are smoother. \n\n\n--------------------------------------------------------------------------------\n\nBackup your content\nWhen backing up a Ghost site, there are 2 main things that need to be done:\n\n 1. Download a JSON export from Ghost admin\n 2. Ensure you have a backup of your content folder\n\nJSON export\nRetrieve an up-to-date JSON export from the Ghost admin in the labs section,\nwhich can be accessed at yourdomain.com/ghost/settings/labs/. This downloads a\nJSON export file that you‚Äôll need later to your machine. \n\nContent folder backup\nAll user-provided data such as images and themes exist in the /content/ folder.\nWe strongly recommend making a copy of these files. To do this run the following\ncommand on yours sever: \n\ncp -r content /tmp/content-backup\n\n\n\n--------------------------------------------------------------------------------\n\nCreate a new Ghost 1.0.0 install\nSince there is no automatic upgrade path for this version of Ghost, you'll need\nto create a clean install of Ghost 1.0.0 to production. \n\nFollow the step-by-step guide to install Ghost on your server\n[https://docs.ghost.org/install/ubuntu/]  using the Ghost CLI. When you install\nGhost, use the installation command with the version number to install the\ncorrect version of Ghost for this migration:\n\nghost install --v1\n\n\nUpon install, follow the setup questions as directed in the guide and ensure\nyour new install is configured correctly.\n\n\n--------------------------------------------------------------------------------\n\nImport your JSON file\nOnce Ghost has been reinstalled on your server, you can import your content\nusing the JSON file that you exported earlier. Import your file in the labs\nscreen under settings in Ghost admin.\n\nAll user accounts are locked on import\nThe Ghost importer does not import user passwords or tokens. All user accounts\n(except the one used to do the import) are locked on import. Use the password\nreset mechanism to regain access.\n\n\n--------------------------------------------------------------------------------\n\nCopy your images\nYour content folder backup that you created earlier now needs to be moved from\nyour existing directory <old-ghost-dir>/content/images  to the new blog\ndirectory <new-ghost-dir>/content/images.\n\nThis content directory functions the same, and exists in the same place as in\nprevious Ghost versions. After copying your files into the new /content/ \nfolder, make sure they belong to the correct Ghost user by running: \n\nsudo chown -R ghost:ghost content\n\n\n\n--------------------------------------------------------------------------------\n\nUpload your theme\nOnce your theme is fully prepared for Ghost 1.0.0 following the guidelines given\non gscan.ghost.org [https://gscan.ghost.org/], upload the final .zip  file into\nyour new Ghost install. Themes are uploaded in the design settings page inside\nof your Ghost admin. \n\nTo upload a theme manually, copy the theme into <new-ghost-dir>/content/themes.\nEnsure the folder is owned by the ghost user and run ghost restart to make Ghost\nsee it.\n\n\n--------------------------------------------------------------------------------\n\nUpdate external sites using Public API\nIf you have external sites which are using the Content API to pull data from\nGhost, you'll need to make some updates to ensure this stays working. Consult\nthe API documentation [https://docs.ghost.org/api/content/]  for further\ninformation. \n\n\n--------------------------------------------------------------------------------\n\nTroubleshooting\nIf you run into any issues or errors when upgrading to Ghost 2.0, use the search\nfunction on this site to find solutions for common issues, or head to the\ncommunity forum [https://forum.ghost.org/].\n\n\n--------------------------------------------------------------------------------\n\nSummary\nNow that you have successfully upgraded from Ghost LTS to Ghost 1.0, you can use\n ghost-cli  to upgrade to the latest version of Ghost with all of the latest\nfeatures üéâ\n\nThe 2.0.0 upgrade [https://docs.ghost.org/faq/upgrade-to-ghost-2-0/]  is\nconsiderably less manual than this one, and it's highly recommended you do this\nnow.","html":"<p>Ghost 1.0 was released in July 2017 marking the 100th release of Ghost, and the first major upgrade since the platform launched. This update includes a new editor, an updated UI, night shift mode and lots more new features.</p><p>Ghost 1.0.0 is a major upgrade, with breaking changes and no automatic migration path. To migrate to 1.0.0 you‚Äôll need to handle breaking changes in the Theme API, and in the Public API if you make use of it.</p><blockquote>This guide is useful for all self-hosted Ghost users. If you are using <strong><a href=\"https://ghost.org/pricing/\">Ghost(Pro)</a></strong> then you are automatically upgraded to the latest version of Ghost.</blockquote><h3 id=\"why-upgrade-to-1-0\">Why upgrade to 1.0?</h3><p>Since Ghost 1.0 has breaking changes with no automatic migration path, all publications running Ghost LTS versions (0.x) must be upgraded to Ghost 1.0 before they can be successfully upgraded to Ghost 2.0 and beyond.</p><p>If you‚Äôre still running an older version of Ghost, we highly recommended that you upgrade to ensure you have all of the latest features, security and support. Here‚Äôs the <a href=\"https://docs.ghost.org/faq/major-versions-lts/\">current version history and end of life support</a>.</p><blockquote>To upgrade from Ghost 1.x to Ghost 2.x using the <code>ghost-cli</code> use the <a href=\"https://docs.ghost.org/faq/upgrade-to-ghost-2-0/\">Migrating to 2.0 guide</a>.</blockquote><hr><h2 id=\"prerequisites\">Prerequisites</h2><p>To upgrade to Ghost 1.0 you must be running an LTS version of Ghost (0.x). This upgrade requires creating a brand new install and importing your JSON content export, so it is a prerequisite to ensure you have a full backup in place before you begin. Here's a breakdown of the migration steps that you‚Äôll go through:</p><ul><li>Prepare your theme</li><li>Backup your content</li><li>Create a new Ghost v1.0.0 install</li><li>Import your JSON file</li><li>Copy your images to your new site</li><li>Upload your theme</li><li>Update external sites using Public API</li></ul><hr><h2 id=\"prepare-your-theme\">Prepare your theme</h2><p>Since there are breaking changes in the theme API between Ghost LTS and 1.0, your theme may need to be updated. </p><h3 id=\"check-theme-compatibility-using-gscan\">Check theme compatibility using <code>gscan</code></h3><p>Using the tool <a href=\"https://gscan.ghost.org\" rel=\"noreferrer nofollow noopener\">gscan</a> is the fastest way to check your theme compatibility against all current versions of Ghost. It allows you to upload a zip file of your current theme to check for errors, deprecations and other compatibility issues.</p><ol><li>Download your current active theme as a .zip from the design settings page in Ghost admin.</li><li>Upload this file on the <a href=\"https://gscan.ghost.org\" rel=\"noreferrer nofollow noopener\">gscan page</a></li><li>Select 1.0.0 as the Ghost version to check your theme for this migration</li></ol><p>The tool lists all errors and provide a full explanation and description of how to update your theme. All items listed as ‚Äúmust fix‚Äù are required to be updated within your theme for the 1.0.0 migration. Any items listed as ‚Äúconsider fixing‚Äù are recommended to ensure future upgrades are smoother. </p><hr><h2 id=\"backup-your-content\">Backup your content</h2><p>When backing up a Ghost site, there are 2 main things that need to be done:</p><ol><li>Download a JSON export from Ghost admin</li><li>Ensure you have a backup of your content folder</li></ol><h3 id=\"json-export\">JSON export</h3><p>Retrieve an up-to-date JSON export from the Ghost admin in the labs section, which can be accessed at yourdomain.com/ghost/settings/labs/. This downloads a JSON export file that you‚Äôll need later to your machine. </p><h3 id=\"content-folder-backup\">Content folder backup</h3><p>All user-provided data such as images and themes exist in the /content/ folder. We strongly recommend making a copy of these files. To do this run the following command on yours sever: </p><pre><code class=\"language-bash\">cp -r content /tmp/content-backup\n</code></pre>\n<hr><h2 id=\"create-a-new-ghost-1-0-0-install\">Create a new Ghost 1.0.0 install</h2><p>Since there is no automatic upgrade path for this version of Ghost, you'll need to create a clean install of Ghost 1.0.0 to production. </p><p>Follow the step-by-step guide to <a href=\"https://docs.ghost.org/install/ubuntu/\">install Ghost on your server</a> using the Ghost CLI. When you install Ghost, use the installation command with the version number to install the correct version of Ghost for this migration:</p><pre><code class=\"language-bash\">ghost install --v1\n</code></pre>\n<p>Upon install, follow the setup questions as directed in the guide and ensure your new install is configured correctly.</p><hr><h2 id=\"import-your-json-file\">Import your JSON file</h2><p>Once Ghost has been reinstalled on your server, you can import your content using the JSON file that you exported earlier. Import your file in the labs screen under settings in Ghost admin.</p><h3 id=\"all-user-accounts-are-locked-on-import\">All user accounts are locked on import</h3><p>The Ghost importer does not import user passwords or tokens. All user accounts (except the one used to do the import) are locked on import. Use the password reset mechanism to regain access.</p><hr><h2 id=\"copy-your-images\">Copy your images</h2><p>Your content folder backup that you created earlier now needs to be moved from your existing directory <code>&lt;old-ghost-dir&gt;/content/images</code> to the new blog directory <code>&lt;new-ghost-dir&gt;/content/images</code>.</p><p>This content directory functions the same, and exists in the same place as in previous Ghost versions. After copying your files into the new <code>/content/</code> folder, make sure they belong to the correct Ghost user by running: </p><pre><code class=\"language-bash\">sudo chown -R ghost:ghost content\n</code></pre>\n<hr><h2 id=\"upload-your-theme\">Upload your theme</h2><p>Once your theme is fully prepared for Ghost 1.0.0 following the guidelines given on <a href=\"https://gscan.ghost.org/\">gscan.ghost.org</a>, upload the final <code>.zip</code> file into your new Ghost install. Themes are uploaded in the design settings page inside of your Ghost admin. </p><p>To upload a theme manually<em>, </em>copy the theme into <code>&lt;new-ghost-dir&gt;/content/themes</code>. Ensure the folder is owned by the ghost user and run ghost restart to make Ghost see it.</p><hr><h2 id=\"update-external-sites-using-public-api\">Update external sites using Public API</h2><p>If you have external sites which are using the Content API to pull data from Ghost, you'll need to make some updates to ensure this stays working. Consult the <a href=\"https://docs.ghost.org/api/content/\">API documentation</a> for further information. </p><hr><h2 id=\"troubleshooting\">Troubleshooting</h2><p>If you run into any issues or errors when upgrading to Ghost 2.0, use the search function on this site to find solutions for common issues, or head to the community <a href=\"https://forum.ghost.org/\">forum</a>.</p><hr><h2 id=\"summary\">Summary</h2><p>Now that you have successfully upgraded from Ghost LTS to Ghost 1.0, you can use <code>ghost-cli</code> to upgrade to the latest version of Ghost with all of the latest features üéâ</p><p>The <a href=\"https://docs.ghost.org/faq/upgrade-to-ghost-2-0/\">2.0.0 upgrade</a> is considerably less manual than this one, and it's highly recommended you do this now. </p>","custom_template":null,"url":"https://docs.ghost.io/upgrade-to-ghost-1-0/","uuid":"7dcd2d23-7064-4c1e-8817-2718c15a2ed5","page":false,"codeinjection_foot":"","codeinjection_head":"","comment_id":"5bc560f094250c00bf9d3bd6"}},"pageContext":{"slug":"upgrade-to-ghost-1-0","relatedPosts":[{"node":{"slug":"change-configured-site-url","title":"How do I change my configured site URL?","url":"/faq/change-configured-site-url/","published_at":"2019-01-18T15:35:27.000+00:00","feature_image":null,"tags":[{"slug":"self-hosting","name":"Self-hosting","description":"Commonly asked questions, upgrade information and guides for developers who are self-hosting an instance of Ghost!","meta_title":"Self Hosting FAQs","meta_description":"Commonly asked questions, upgrade information and guides for developers who are self-hosting an instance of Ghost!","feature_image":null},{"slug":"hash-faq","name":"#faq","description":null,"meta_title":null,"meta_description":null,"feature_image":null}]}},{"node":{"slug":"clustering-sharding-multi-server","title":"Clustering, sharding and other multi-server setups","url":"/faq/clustering-sharding-multi-server/","published_at":"2018-10-17T03:28:49.000+00:00","feature_image":null,"tags":[{"slug":"self-hosting","name":"Self-hosting","description":"Commonly asked questions, upgrade information and guides for developers who are self-hosting an instance of Ghost!","meta_title":"Self Hosting FAQs","meta_description":"Commonly asked questions, upgrade information and guides for developers who are self-hosting an instance of Ghost!","feature_image":null},{"slug":"hash-faq","name":"#faq","description":null,"meta_title":null,"meta_description":null,"feature_image":null}]}},{"node":{"slug":"upgrade-to-ghost-2-0","title":"Upgrade to Ghost 2.0","url":"/faq/upgrade-to-ghost-2-0/","published_at":"2018-10-16T03:52:42.000+00:00","feature_image":null,"tags":[{"slug":"self-hosting","name":"Self-hosting","description":"Commonly asked questions, upgrade information and guides for developers who are self-hosting an instance of Ghost!","meta_title":"Self Hosting FAQs","meta_description":"Commonly asked questions, upgrade information and guides for developers who are self-hosting an instance of Ghost!","feature_image":null,"url":"/faq/self-hosting/"},{"slug":"hash-faq","name":"#faq","description":null,"meta_title":null,"meta_description":null,"feature_image":null}]}},{"node":{"slug":"filter-property-routes-yaml","title":"Filter property not working","url":"/faq/filter-property-routes-yaml/","published_at":"2018-10-10T09:06:05.000+00:00","feature_image":null,"tags":[{"slug":"errors","name":"Errors","description":"Troubleshoot common errors and issues for the open source Ghost publishing platform!","meta_title":"Troubleshooting Ghost","meta_description":"Troubleshoot common errors and issues for the open source Ghost publishing platform!","feature_image":null},{"slug":"hash-faq","name":"#faq","description":null,"meta_title":null,"meta_description":null,"feature_image":null}]}},{"node":{"slug":"ghost-admin-not-loading","title":"Ghost admin not loading","url":"/faq/ghost-admin-not-loading/","published_at":"2018-09-27T16:24:58.000+00:00","feature_image":null,"tags":[{"slug":"errors","name":"Errors","description":"Troubleshoot common errors and issues for the open source Ghost publishing platform!","meta_title":"Troubleshooting Ghost","meta_description":"Troubleshoot common errors and issues for the open source Ghost publishing platform!","feature_image":null},{"slug":"hash-faq","name":"#faq","description":null,"meta_title":null,"meta_description":null,"feature_image":null}]}}],"section":"faq"}}