{"data":{"site":{"siteMetadata":{"siteUrl":"http://ghost.local:8000","title":"vwa.la help","description":"Everything you need to know about the vwa.la influencer marketing platform."}},"ghostPost":{"title":"Creating content hubs","slug":"building-a-content-hub","featured":false,"feature_image":null,"created_at_pretty":"12 October, 2018","published_at_pretty":"12 October, 2018","updated_at_pretty":"07 November, 2018","created_at":"2018-10-12T07:27:05.000+00:00","published_at":"2018-10-12T10:49:10.000+00:00","updated_at":"2018-11-07T09:21:20.000+00:00","excerpt":"The dynamic routing configuration layer in Ghost unlocks the ability to create paginated content hubs called channels.","meta_title":"Creating content hubs with Ghost - Tutorials","meta_description":"The dynamic routing configuration layer in Ghost unlocks the ability to create paginated content hubs called channels.","og_description":null,"og_image":null,"og_title":null,"twitter_description":null,"twitter_image":null,"twitter_title":null,"authors":[{"name":"Kym Ellis","slug":"kym","bio":"Technical marketing lead","profile_image":"//www.gravatar.com/avatar/65b8e98952305f0ae0f90c7439718680?s=250&d=mm&r=x","twitter":null,"facebook":null,"website":null}],"primary_author":{"name":"Kym Ellis","slug":"kym","bio":"Technical marketing lead","profile_image":"//www.gravatar.com/avatar/65b8e98952305f0ae0f90c7439718680?s=250&d=mm&r=x","twitter":null,"facebook":null,"website":null},"primary_tag":null,"tags":[{"name":"#tutorial","slug":"hash-tutorial","description":null,"feature_image":null,"meta_description":null,"meta_title":null,"visibility":"internal"},{"name":"Dynamic Routing","slug":"dynamic-routing","description":null,"feature_image":null,"meta_description":null,"meta_title":null,"visibility":"public"}],"plaintext":"The dynamic routing configuration layer in Ghost unlocks the ability to create\npaginated content hubs called channels. These can be implemented without\nchanging the individual URL of the posts, and provide an efficient way to divide\nor combine existing tagged content on your Ghost publication with a few lines of\ncode.\n\nOverview\nContent views are created using the controller  property in the routes.yaml \nfile. The controller property has one supported value: channel.\n\nA filter  is used in combination with the controller: channel  configuration to\nselect a specific list of posts for display using the {{posts}}  template\nvariable. \n\nThis tutorial goes through the steps required to create a content view or\n\"channel\" using the controller  property. \n\nBuilding content views with controller: channel  does not change the individual\nURL of any posts or pages. To create a content collection with unique URL\nstructures, check out this tutorial\n[https://docs.ghost.org/tutorials/creating-content-collections/]!\n\nCreate routes and channels in the routes.yaml  file\nDownload your routes.yaml  file from the settings in Ghost admin or locate the\nfile on your server and open it in any code editor.\n\nThis file is split into three areas, and for this tutorial you'll be using the\n\"routes\" section - read more about dynamic routing\n[https://docs.ghost.org/concepts/routing/]  and the routes.yaml  file.\n\nFirst of all, create new routes from which you want your content view to be\nindexed, and then use the controller  and filter  properties to define those\nroutes. Use the following structure: \n\nroutes:\n  /route/description/:\n    controller: channel\n    filter: tag:x+tag:y\n\n\nUsing filters\nFilters can be used in numerous ways to divide or combine both the tags and\nauthors of a post or page. Here's a full guide of the parameters for the filter \nproperty: \n\nfilter: tag:x+tag:y # must have both \"x\" and \"y\" tags (+ = AND)\nfilter: tag:x,tag:y # can have either \"x\" or \"y\" tags (, = OR)\nfilter: tag:-x+tag:y # must have tag \"y\" but not tag \"x\" (- = NOT)\nfilter: tag:[x,y,z] # must have either \"x\", \"y\", or \"z\" tags ([] = IN)\nfilter: tag:-[x,y,z] # must not have any one of \"x\", \"y\", or \"z\" tags (-[] = NOT IN)\nfilter: author:steve+tag:x # must be written by \"steve\" and have tag \"x\"\n\n\nExample\nIn the following example, two content hubs are being created for \n/reviews/mobile/  and /reviews/photography/. Let's imagine this publication\nposts reviews, news and other content about technology, and they want to create\ntwo views of content for reviews of phones and reviews of photography gear: \n\nroutes:\n  /reviews/mobile/:\n    controller: channel\n    filter: tag:review+tag:mobile\n  /reviews/photography/:\n    controller: channel\n    filter: tag:review+tag:camera\n\n\nIn this case, all posts or pages tagged with review and mobile will appear on \n/reviews/mobile/  and all posts or pages tagged with review and camera will\nappear on /reviews/photography/. Individual posts will still keep their original\nURL, for example, example.com/post-name  or example.com/blog/post-name/ \ndepending on the configuration of any other routes or collections\n[https://docs.ghost.org/tutorials/creating-content-collections/]. \n\nThis is just one working example for the purposes of the tutorial. You can\ndivide or combine content on your site in almost any way you need using tags,\nauthors and the filter property.\n\nMap your channels to a template\nOnce you are happy with your new routes and filters, the last thing you'll need\nto add to routes.yaml  is the template  property, to map your new content hub(s)\nto a handlebars template within your theme. \n\nFollowing the same example from above, the structure would be: \n\nroutes:\n  /reviews/mobile/:\n    controller: channel\n    filter: tag:review+tag:mobile\n    template: reviews\n  /reviews/photography/:\n    controller: channel\n    filter: tag:review+tag:camera\n    template: reviews\n\n\nThis would map both of the new channel routes to the template called reviews.hbs\n, which could be a custom template specifically the purposes of featuring\nreviews in their own content hub. \n\nCreate a custom template for your channel\nIf you'd like to use custom data and styling on your new content hub, you'll\nneed to create a new template from scratch. For further information about\ncreating custom templates, visit the handlebars theme documentation\n[https://docs.ghost.org/api/handlebars-themes/]!\n\nIf you don't want to use a custom template, you can use your theme's default\ntemplate for an index page or list of posts, which is usually called index.hbs.\n\nNavigation\nIn order to add a feature a link to your new content hubs from your site, try\nadding some links into the navigation, which can be found in the \"design\" menu\nin Ghost admin. Alternatively, you may want to provide links to your new pages\nfrom a custom home page or a static page\n[https://docs.ghost.org/tutorials/custom-home-page/]  on your site directly in\nthe page's template. \n\nImplement your channels and templates\nAlmost at the finish line. Once you've finished editing your routes.yaml  file,\ncreated optional handlebars templates and made any necessary adjustments to your\nCSS files, you can upload your work to your site in Ghost admin.\n\n 1. Upload your edited routes.yaml  file\n 2. Upload your new theme .zip  containing any new templates and CSS\n 3. Visit the new routes you created and ensure your content is rendering\n    correctly and your filters are passing through the correct posts and pages\n\nSummary\nIn this tutorial you have created one or more channels for your publication that\ncan be viewed like content hubs at a designated route. Each new content view has\nits own paginated index page and optional custom template, while the URL\nstructure for individual posts remains the same. \n\nNow you know the most efficient way to build a content hub on your site without\naltering the URL structure, and you can replicate this with new filter\ncombinations and templates as required.","html":"<p>The dynamic routing configuration layer in Ghost unlocks the ability to create paginated content hubs called channels. These can be implemented without changing the individual URL of the posts, and provide an efficient way to divide or combine existing tagged content on your Ghost publication with a few lines of code.</p><h3 id=\"overview\">Overview</h3><p>Content views are created using the <code>controller</code> property in the <code>routes.yaml</code> file. The controller property has one supported value: <code>channel</code>.</p><p>A <code>filter</code> is used in combination with the <code>controller: channel</code> configuration to select a specific list of posts for display using the <code>{{posts}}</code> template variable. </p><p>This tutorial goes through the steps required to create a content view or \"channel\" using the <code>controller</code> property. </p><blockquote>Building content views with <code>controller: channel</code> does not change the individual URL of any posts or pages. To create a content collection with unique URL structures, check out <a href=\"https://docs.ghost.org/tutorials/creating-content-collections/\">this tutorial</a>!</blockquote><p></p><h2 id=\"create-routes-and-channels-in-the-routes-yaml-file\">Create routes and channels in the <code>routes.yaml</code> file</h2><p>Download your <code>routes.yaml</code> file from the settings in Ghost admin or locate the file on your server and open it in any code editor.</p><p>This file is split into three areas, and for this tutorial you'll be using the \"routes\" section - read more about <a href=\"https://docs.ghost.org/concepts/routing/\">dynamic routing</a> and the <code>routes.yaml</code> file.</p><p>First of all, create new routes from which you want your content view to be indexed, and then use the <code>controller</code> and <code>filter</code> properties to define those routes. Use the following structure: </p><pre><code class=\"language-yaml\">routes:\n  /route/description/:\n    controller: channel\n    filter: tag:x+tag:y\n</code></pre>\n<h3 id=\"using-filters\">Using filters</h3><p>Filters can be used in numerous ways to divide or combine both the tags and authors of a post or page. Here's a full guide of the parameters for the <code>filter</code> property: </p><pre><code class=\"language-yaml\">filter: tag:x+tag:y # must have both &quot;x&quot; and &quot;y&quot; tags (+ = AND)\nfilter: tag:x,tag:y # can have either &quot;x&quot; or &quot;y&quot; tags (, = OR)\nfilter: tag:-x+tag:y # must have tag &quot;y&quot; but not tag &quot;x&quot; (- = NOT)\nfilter: tag:[x,y,z] # must have either &quot;x&quot;, &quot;y&quot;, or &quot;z&quot; tags ([] = IN)\nfilter: tag:-[x,y,z] # must not have any one of &quot;x&quot;, &quot;y&quot;, or &quot;z&quot; tags (-[] = NOT IN)\nfilter: author:steve+tag:x # must be written by &quot;steve&quot; and have tag &quot;x&quot;\n</code></pre>\n<h3 id=\"example\">Example</h3><p>In the following example, two content hubs are being created for <code>/reviews/mobile/</code> and <code>/reviews/photography/</code>. Let's imagine this publication posts reviews, news and other content about technology, and they want to create two views of content for reviews of phones and reviews of photography gear: </p><pre><code class=\"language-yaml\">routes:\n  /reviews/mobile/:\n    controller: channel\n    filter: tag:review+tag:mobile\n  /reviews/photography/:\n    controller: channel\n    filter: tag:review+tag:camera\n</code></pre>\n<p>In this case, all posts or pages tagged with review and mobile will appear on <code>/reviews/mobile/</code> and all posts or pages tagged with review and camera will appear on <code>/reviews/photography/</code>. Individual posts will still keep their original URL, for example, <code>example.com/post-name</code> or <code>example.com/blog/post-name/</code> depending on the configuration of any other routes or <a href=\"https://docs.ghost.org/tutorials/creating-content-collections/\">collections</a>. </p><p>This is just one working example for the purposes of the tutorial. You can divide or combine content on your site in almost any way you need using tags, authors and the filter property.</p><h2 id=\"map-your-channels-to-a-template\">Map your channels to a template</h2><p>Once you are happy with your new routes and filters, the last thing you'll need to add to <code>routes.yaml</code> is the <code>template</code> property, to map your new content hub(s) to a handlebars template within your theme. </p><p>Following the same example from above, the structure would be: </p><pre><code class=\"language-yaml\">routes:\n  /reviews/mobile/:\n    controller: channel\n    filter: tag:review+tag:mobile\n    template: reviews\n  /reviews/photography/:\n    controller: channel\n    filter: tag:review+tag:camera\n    template: reviews\n</code></pre>\n<p>This would map both of the new channel routes to the template called <code>reviews.hbs</code>, which could be a custom template specifically the purposes of featuring reviews in their own content hub. </p><h3 id=\"create-a-custom-template-for-your-channel\">Create a custom template for your channel</h3><p>If you'd like to use custom data and styling on your new content hub, you'll need to create a new template from scratch. For further information about creating custom templates, visit the handlebars <a href=\"https://docs.ghost.org/api/handlebars-themes/\">theme documentation</a>!</p><p>If you don't want to use a custom template, you can use your theme's default template for an index page or list of posts, which is usually called <code>index.hbs</code>.</p><h3 id=\"navigation\">Navigation</h3><p>In order to add a feature a link to your new content hubs from your site, try adding some links into the navigation, which can be found in the \"design\" menu in Ghost admin. Alternatively, you may want to provide links to your new pages from a custom home page or a <a href=\"https://docs.ghost.org/tutorials/custom-home-page/\">static page</a> on your site directly in the page's template. </p><h2 id=\"implement-your-channels-and-templates\">Implement your channels and templates</h2><p>Almost at the finish line. Once you've finished editing your <code>routes.yaml</code> file, created optional handlebars templates and made any necessary adjustments to your CSS files, you can upload your work to your site in Ghost admin.</p><ol><li>Upload your edited <code>routes.yaml</code> file</li><li>Upload your new theme <code>.zip</code> containing any new templates and CSS</li><li>Visit the new routes you created and ensure your content is rendering correctly and your filters are passing through the correct posts and pages</li></ol><h2 id=\"summary\">Summary</h2><p>In this tutorial you have created one or more channels for your publication that can be viewed like content hubs at a designated route. Each new content view has its own paginated index page and optional custom template, while the URL structure for individual posts remains the same. </p><p>Now you know the most efficient way to build a content hub on your site without altering the URL structure, and you can replicate this with new filter combinations and templates as required. </p>","custom_template":null,"url":"https://docs.ghost.io/building-a-content-hub/","uuid":"d6170a35-97ff-43b9-b3ad-585e357fbad7","page":false,"codeinjection_foot":"","codeinjection_head":"","comment_id":"5bc04cc994250c00bf9d398c"}},"pageContext":{"slug":"building-a-content-hub","relatedPosts":[{"node":{"slug":"custom-rss-feed","title":"How to make an iTunes Podcast RSS feed with Ghost","url":"/tutorials/custom-rss-feed/","published_at":"2018-12-06T10:13:53.000+00:00","feature_image":null,"tags":[{"slug":"dynamic-routing","name":"Dynamic Routing","description":null,"meta_title":null,"meta_description":null,"feature_image":null},{"slug":"themes","name":"Themes","description":null,"meta_title":null,"meta_description":null,"feature_image":null},{"slug":"hash-tutorial","name":"#tutorial","description":null,"meta_title":null,"meta_description":null,"feature_image":null}]}},{"node":{"slug":"chronological-posts","title":"Chronological posts","url":"/tutorials/chronological-posts/","published_at":"2018-10-12T13:45:13.000+00:00","feature_image":null,"tags":[{"slug":"hash-tutorial","name":"#tutorial","description":null,"meta_title":null,"meta_description":null,"feature_image":null},{"slug":"dynamic-routing","name":"Dynamic Routing","description":null,"meta_title":null,"meta_description":null,"feature_image":null}]}},{"node":{"slug":"change-url-for-tags-authors","title":"Change the URL for tags and authors","url":"/tutorials/change-url-for-tags-authors/","published_at":"2018-10-12T12:30:33.000+00:00","feature_image":"https://docs.ghost.io/content/images/2018/10/dynamic-routing-2.svg","tags":[{"slug":"hash-tutorial","name":"#tutorial","description":null,"meta_title":null,"meta_description":null,"feature_image":null},{"slug":"dynamic-routing","name":"Dynamic Routing","description":null,"meta_title":null,"meta_description":null,"feature_image":null}]}},{"node":{"slug":"creating-content-collections","title":"Building content collections with distinct routes","url":"/tutorials/creating-content-collections/","published_at":"2018-10-12T06:26:51.000+00:00","feature_image":"https://docs.ghost.io/content/images/2018/10/dynamic-routing-4.svg","tags":[{"slug":"hash-tutorial","name":"#tutorial","description":null,"meta_title":null,"meta_description":null,"feature_image":null},{"slug":"dynamic-routing","name":"Dynamic Routing","description":null,"meta_title":null,"meta_description":null,"feature_image":null}]}},{"node":{"slug":"custom-home-page","title":"Creating a custom home page","url":"/tutorials/custom-home-page/","published_at":"2018-10-04T13:53:41.000+00:00","feature_image":"https://docs.ghost.io/content/images/2018/10/dynamic-routing-5.svg","tags":[{"slug":"hash-tutorial","name":"#tutorial","description":null,"meta_title":null,"meta_description":null,"feature_image":null},{"slug":"dynamic-routing","name":"Dynamic Routing","description":null,"meta_title":null,"meta_description":null,"feature_image":null}]}}],"section":"tutorials"}}